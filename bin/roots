#!/usr/bin/env node

var argv = require('optimist').argv;

var commands = require('../lib/commands');

if (argv._[0] == undefined) {
  commands.help.execute();
} else {
  var current_command = commands[argv._[0]];

  if (current_command.needs_config) {
    commands.configure(function(){ current_command.execute(argv._.slice(1)) });
  } else {
    current_command.execute(argv._.slice(1));
  }
}
