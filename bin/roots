#!/usr/bin/env node

require('coffee-script/register');
var cli = new (require('../lib/cli')),
    notifier = require('update-notifier')({ packagePath: '../package.json' });

// new version notification
notifier.update && notifier.notify();

// log out data
cli.on('info', function(m){ console.log(("▸ " + m).grey) });
cli.on('success', function(m){ console.log(("✓ " + m).green) });
cli.on('err', function(err){ console.error("✘ ".red + err); });
cli.on('data', console.log.bind(console));
cli.on('inline', process.stdout.write.bind(process.stdout));
cli.on('err_exit', function(err){
  console.error("✘ ".red + err);
  process.exit(1);
});

cli.run(process.argv.slice(2));
