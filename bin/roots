#!/usr/bin/env node

var fs = require('fs'),
    path = require('path'),
    colors = require('colors'),
    watch = require('watch'),
    _ = require('underscore'),
    coffeescript = require('../lib/compilers/coffee'),
    helpers = require('../lib/helpers');

var current_directory = path.normalize(process.cwd()),
    dir_contents = fs.readdirSync(current_directory);

// pulls out only the type of file you pass it in the directory you pass it
var get_files = function(dir, type){ 
  var all_files = fs.readdirSync(path.join(current_directory, dir));
  return _.filter(all_files, function(f){ return !!f.match(new RegExp('\.' + type + '$')); });
}

// compile all the things!
helpers.create_directories(function(){

  coffeescript.compile('assets');
  helpers.pass_through('js');

});